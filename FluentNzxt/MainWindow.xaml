<Window
    x:Class="FluentNzxt.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:FluentNzxt"
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:view="using:FluentNzxt.View"
    mc:Ignorable="d">

    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
          x:Name="RootGrid" Background="#F9F9F9" Padding="56,56,24,56">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        
        <ListView HorizontalContentAlignment="Stretch" Grid.Column="0"
                  ItemsSource="{x:Bind ViewModel.Devices}"
                  SelectedItem="{x:Bind ViewModel.SelectedDevice, Mode=TwoWay}">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Grid Width="250" Height="64" Padding="8"
                          CornerRadius="8" Background="#FEFEFE" BorderThickness="1" BorderBrush="#E9E9E9">

                        <RelativePanel Margin="16,6,0,0">
                            <TextBlock x:Name="TitleText"
                                       Style="{StaticResource BodyTextBlockStyle}" Text="{Binding Name}"
                                       TextLineBounds="TrimToCapHeight"
                                       TextWrapping="NoWrap" />
                            <TextBlock Opacity="0.5"
                                       Margin="0,2,8,0"
                                       RelativePanel.Below="TitleText"
                                       Text="Blah blah blah"
                                       TextTrimming="CharacterEllipsis" />
                        </RelativePanel>
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
            <ListView.ItemContainerStyle>
                <Style TargetType="ListViewItem">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                </Style>
            </ListView.ItemContainerStyle>
        </ListView>

        <controls:DropShadowPanel BlurRadius="8" ShadowOpacity="0.1" OffsetX="0" OffsetY="4"
                                  Color="#E9E9E9" IsMasked="True" Margin="0,24,0,0"
                                  HorizontalAlignment="Stretch" Grid.Column="1"
                                  HorizontalContentAlignment="Stretch">
            <ScrollViewer>
                <view:DeviceView x:Name="DeviceView" HorizontalAlignment="Stretch"
                                 ViewModel="{x:Bind ViewModel.SelectedDevice, Mode=TwoWay}"/>
            </ScrollViewer>
        </controls:DropShadowPanel>
    </Grid>
</Window>
